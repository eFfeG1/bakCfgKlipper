[include fluidd.cfg]

[virtual_sdcard]
path: /home/francesco/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[exclude_object]

[include macros.cfg]

[display_status]
[pause_resume]
# This file contains a configuration for the Anycubic Kossel delta
# printer from 2016.

# The Anycubic delta printers use the TriGorilla board which is an
# AVR ATmega2560 Arduino + RAMPS compatible board.
# To use this config, the firmware should be compiled for the AVR atmega2560.

# See docs/Config_Reference.md for a description of parameters.

[stepper_a]
step_pin: PF0
dir_pin: PF1
enable_pin: !PD7
microsteps: 16
rotation_distance: 40
endstop_pin: ^PE4
homing_speed: 60
# The next parameter needs to be adjusted for
# your printer. You may want to start with 280
# and meassure the distance from nozzle to bed.
# This value then needs to be added.
#position_endstop: 313.50
#arm_length: 229.4

[stepper_b]
step_pin: PF6
dir_pin: PF7
enable_pin: !PF2
microsteps: 16
rotation_distance: 40
endstop_pin: ^PJ0

[stepper_c]
step_pin: PL3
dir_pin: PL1
enable_pin: !PK0
microsteps: 16
rotation_distance: 40
endstop_pin: ^PD2

[extruder]
step_pin: PA4
dir_pin: PA6
enable_pin: !PA2
microsteps: 16
rotation_distance: 35.165
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: PB4
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PK5
#control: pid
#pid_Kp: 25.349
#pid_Ki: 1.216
#pid_Kd: 132.130
min_extrude_temp: 150
min_temp: 0
max_temp: 275

[heater_bed]
heater_pin: PH5
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PK6
#control: watermark
min_temp: 0
max_temp: 130

[fan]
pin: PL5
kick_start_time: 0.200

[heater_fan extruder_cooler_fan]
pin: PH6

[mcu]
serial: /dev/serial/by-id/usb-Silicon_Labs_CP2102_USB_to_UART_Bridge_Controller_0001-if00-port0

[printer]
kinematics: delta
max_velocity: 500
max_accel: 3000
max_z_velocity: 200
#delta_radius: 99.8
# if you want to DELTA_CALIBRATE you may need that
minimum_z_position: -0.1 #-0.5

[idle_timeout]
timeout: 360

[delta_calibrate]
radius: 80
# If the original probe is used
horizontal_move_z: 35

#   manual_probe: true
#   If true, then DELTA_CALIBRATE will perform manual probing. If
#   false, then a PROBE command will be run at each probe
#   point. Manual probing is accomplished by manually jogging the Z
#   position of the print head at each probe point and then issuing a
#   NEXT extended g-code command to record the position at that
#   point. The default is false if a [probe] config section is present
#   and true otherwise.

# "RepRapDiscount 2004 Smart Controller" type displays
[display]
lcd_type: hd44780
rs_pin: PH1
e_pin: PH0
d4_pin: PA1
d5_pin: PA3
d6_pin: PA5
d7_pin: PA7
encoder_pins: ^PC6, ^PC4
click_pin: ^!PC2
kill_pin: ^!PG0

[bed_mesh]
speed: 30
horizontal_move_z: 25
mesh_radius: 80
mesh_origin: 0, 0
round_probe_count: 31
mesh_pps: 4
algorithm: bicubic
bicubic_tension: 0.2

[probe]
pin: ^PD3
x_offset: 0
y_offset: 0
#z_offset: -25  # Regola in base alla tua configurazione
speed: 3.0
samples: 3  #3 Numero di campioni da prendere per la misurazione
samples_result: median
sample_retract_dist: 4  #2 Distanza di ritrazione tra i campioni
samples_tolerance: 0.1  # Aumenta la tolleranza (valore predefinito Ã¨ 0.01)
samples_tolerance_retries: 3 #quante volte vuoi che venga ripetuto prima di fallire.

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [printer]
#*# delta_radius = 98.202669
#*#
#*# [stepper_a]
#*# angle = 209.547886
#*# arm_length = 216.528108
#*# position_endstop = 314.056
#*#
#*# [stepper_b]
#*# angle = 330.841814
#*# arm_length = 218.532688
#*# position_endstop = 313.515
#*#
#*# [stepper_c]
#*# angle = 90.000000
#*# arm_length = 216.678378
#*# position_endstop = 314.006
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 66.854
#*# pid_ki = 1.051
#*# pid_kd = 1062.982
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 26.098
#*# pid_ki = 2.451
#*# pid_kd = 69.486
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852, 0.054852
#*# 	0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.128759, 0.121601, 0.085204, 0.097202, 0.047221, 0.045050, 0.025415, 0.013077, 0.021528, 0.049708, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614, 0.116614
#*# 	0.135167, 0.135167, 0.135167, 0.135167, 0.135167, 0.135167, 0.135167, 0.135167, 0.135167, 0.123308, 0.110957, 0.121206, 0.099390, 0.100341, 0.077823, 0.075041, 0.072536, 0.058840, 0.036364, 0.046571, 0.053128, 0.095199, 0.169477, 0.169477, 0.169477, 0.169477, 0.169477, 0.169477, 0.169477, 0.169477, 0.169477
#*# 	0.165321, 0.165321, 0.165321, 0.165321, 0.165321, 0.165321, 0.165321, 0.124346, 0.133572, 0.136300, 0.121512, 0.127619, 0.100748, 0.090324, 0.069681, 0.098683, 0.090592, 0.056805, 0.088220, 0.061184, 0.050954, 0.058958, 0.056585, 0.077370, 0.207449, 0.207449, 0.207449, 0.207449, 0.207449, 0.207449, 0.207449
#*# 	0.063006, 0.063006, 0.063006, 0.063006, 0.063006, 0.063006, 0.094568, 0.126642, 0.121134, 0.133808, 0.114917, 0.109255, 0.116007, 0.100741, 0.105391, 0.077961, 0.082614, 0.079873, 0.079473, 0.093977, 0.083188, 0.081223, 0.048363, 0.052337, 0.097286, 0.192457, 0.192457, 0.192457, 0.192457, 0.192457, 0.192457
#*# 	0.067391, 0.067391, 0.067391, 0.067391, 0.067391, 0.088706, 0.093568, 0.100805, 0.106121, 0.118925, 0.101100, 0.099732, 0.093702, 0.091380, 0.108525, 0.094417, 0.086065, 0.095165, 0.107002, 0.063681, 0.077769, 0.088245, 0.058527, 0.077135, 0.084062, 0.078729, 0.131895, 0.131895, 0.131895, 0.131895, 0.131895
#*# 	0.027386, 0.027386, 0.027386, 0.027386, 0.025277, 0.044851, 0.039565, 0.069736, 0.100100, 0.113063, 0.107683, 0.119207, 0.108809, 0.106177, 0.098447, 0.090517, 0.088084, 0.085162, 0.096720, 0.074165, 0.080254, 0.082098, 0.074086, 0.045515, 0.064865, 0.096962, 0.101732, 0.126314, 0.126314, 0.126314, 0.126314
#*# 	0.005367, 0.005367, 0.005367, 0.005367, 0.040894, 0.060257, 0.052939, 0.082485, 0.103136, 0.090548, 0.097514, 0.113175, 0.115465, 0.112713, 0.099359, 0.097314, 0.088881, 0.086273, 0.110921, 0.080135, 0.086059, 0.071717, 0.073148, 0.082806, 0.067331, 0.096938, 0.113171, 0.112820, 0.112820, 0.112820, 0.112820
#*# 	-0.038412, -0.038412, -0.038412, -0.010963, 0.025441, 0.033623, 0.065040, 0.097803, 0.105520, 0.105451, 0.104281, 0.103228, 0.101840, 0.087395, 0.104369, 0.090506, 0.088228, 0.099234, 0.099707, 0.106109, 0.096441, 0.082593, 0.084588, 0.065829, 0.073388, 0.091856, 0.107490, 0.105483, 0.112166, 0.112166, 0.112166
#*# 	-0.072559, -0.072559, -0.072559, -0.031844, 0.004858, 0.040055, 0.048244, 0.058143, 0.077467, 0.084055, 0.102224, 0.088787, 0.095895, 0.110749, 0.090359, 0.112720, 0.086618, 0.084209, 0.091972, 0.078597, 0.064680, 0.076726, 0.101362, 0.093496, 0.090057, 0.104329, 0.121081, 0.130316, 0.110833, 0.110833, 0.110833
#*# 	-0.107298, -0.107298, -0.048913, -0.018866, 0.006725, 0.007739, 0.052009, 0.063095, 0.078224, 0.093092, 0.094337, 0.092161, 0.102831, 0.110230, 0.094098, 0.091937, 0.084439, 0.071774, 0.106075, 0.093142, 0.087848, 0.080857, 0.082561, 0.095420, 0.098738, 0.089488, 0.102502, 0.111145, 0.115178, 0.126034, 0.126034
#*# 	-0.150681, -0.150681, -0.090614, -0.061070, -0.033246, -0.020222, 0.016328, 0.046170, 0.059225, 0.047152, 0.062879, 0.064268, 0.071795, 0.082952, 0.087058, 0.052773, 0.052775, 0.078716, 0.076356, 0.060109, 0.058522, 0.062670, 0.094272, 0.092381, 0.093963, 0.105867, 0.116861, 0.112294, 0.102541, 0.088335, 0.088335
#*# 	-0.136050, -0.136050, -0.087366, -0.065236, -0.038026, -0.007181, 0.019441, 0.046709, 0.046201, 0.071068, 0.067378, 0.064846, 0.056542, 0.085504, 0.042640, 0.048079, 0.036242, 0.044765, 0.033482, 0.049852, 0.047409, 0.063690, 0.044345, 0.065840, 0.097895, 0.057655, 0.067861, 0.070830, 0.073206, 0.082946, 0.082946
#*# 	-0.146019, -0.146019, -0.082360, -0.038016, -0.028462, 0.002817, 0.020772, 0.042231, 0.059804, 0.074975, 0.079514, 0.076201, 0.089372, 0.061892, 0.074160, 0.072042, 0.052811, 0.052513, 0.055037, 0.078427, 0.043148, 0.071918, 0.042604, 0.070128, 0.062418, 0.085552, 0.100483, 0.104689, 0.090070, 0.049405, 0.049405
#*# 	-0.154527, -0.154527, -0.106559, -0.055147, -0.022937, 0.027859, 0.040613, 0.064309, 0.062107, 0.083702, 0.073924, 0.073032, 0.082438, 0.082405, 0.078349, 0.063818, 0.044504, 0.057184, 0.032517, 0.013387, 0.035971, 0.044139, 0.033034, 0.033816, 0.044554, 0.048446, 0.046924, 0.047408, 0.058937, 0.064428, 0.064428
#*# 	-0.132295, -0.140593, -0.076244, -0.036486, -0.034616, -0.005079, -0.002072, 0.003421, 0.045288, 0.068370, 0.063324, 0.066571, 0.059078, 0.052693, 0.068744, 0.042350, 0.030965, 0.048587, 0.024830, 0.011020, -0.055490, 0.046575, 0.038254, 0.033607, 0.062672, 0.060442, 0.059481, 0.081176, 0.060556, 0.051761, 0.078445
#*# 	-0.143503, -0.143503, -0.087262, -0.060141, -0.042705, -0.010436, 0.036281, 0.052083, 0.070043, 0.074978, 0.092296, 0.087076, 0.087918, 0.071976, 0.075563, 0.065495, 0.079652, 0.081274, 0.025595, 0.026981, 0.012890, 0.011976, 0.041410, 0.021204, 0.024042, 0.015463, 0.024403, 0.026881, 0.035035, 0.047131, 0.047131
#*# 	-0.140210, -0.140210, -0.123445, -0.060811, -0.015390, 0.006524, 0.022301, 0.056898, 0.085516, 0.087856, 0.091554, 0.088728, 0.072255, 0.061783, 0.068759, 0.058449, 0.039013, 0.022643, 0.009368, 0.021309, -0.009501, 0.022215, 0.015921, 0.034748, 0.044053, 0.033785, 0.032080, 0.031562, 0.020395, 0.008422, 0.008422
#*# 	-0.126013, -0.126013, -0.102738, -0.054098, 0.009826, 0.012336, 0.027212, 0.055076, 0.082382, 0.071768, 0.085343, 0.081611, 0.072604, 0.069832, 0.063872, 0.044768, 0.027207, 0.015066, 0.019083, -0.010427, -0.018938, -0.029693, -0.015161, -0.034052, -0.022922, -0.031619, -0.035043, -0.029205, -0.030670, -0.023961, -0.023961
#*# 	-0.126678, -0.126678, -0.088524, -0.046609, -0.013623, -0.000054, 0.021035, 0.042008, 0.042784, 0.067716, 0.061368, 0.080826, 0.071980, 0.047131, 0.043660, 0.037174, 0.023325, -0.002605, -0.000926, -0.011194, -0.024726, 0.029618, -0.010405, -0.021091, -0.015128, -0.009621, -0.023998, -0.027342, -0.038524, -0.028643, -0.028643
#*# 	-0.141974, -0.141974, -0.104661, -0.043608, -0.012767, 0.014289, 0.040171, 0.065516, 0.052661, 0.051229, 0.051281, 0.075161, 0.058813, 0.060001, 0.055721, 0.036606, 0.026859, -0.001964, -0.015550, -0.028492, -0.061352, -0.054854, -0.062843, -0.072493, -0.102475, -0.083920, -0.090618, -0.111534, -0.104234, -0.100349, -0.100349
#*# 	-0.069856, -0.069856, -0.069856, -0.022260, 0.026953, 0.052088, 0.052046, 0.063655, 0.086769, 0.098296, 0.097069, 0.097260, 0.091493, 0.093977, 0.060930, 0.031945, 0.025971, 0.008438, 0.002923, -0.024052, -0.029215, -0.011429, -0.024481, -0.050796, -0.053876, -0.052652, -0.045473, -0.052480, -0.089269, -0.089269, -0.089269
#*# 	-0.076773, -0.076773, -0.076773, -0.011750, 0.023579, 0.045740, 0.082445, 0.087139, 0.084282, 0.099426, 0.099291, 0.105963, 0.086117, 0.098603, 0.064596, 0.047955, 0.015448, -0.003374, -0.011052, -0.056953, -0.062646, -0.087679, -0.042159, -0.093742, -0.114561, -0.104583, -0.140289, -0.151214, -0.153690, -0.153690, -0.153690
#*# 	0.025039, 0.025039, 0.025039, 0.025039, 0.057853, 0.079318, 0.089253, 0.110682, 0.112890, 0.129711, 0.102927, 0.024448, 0.086445, 0.073345, 0.052373, 0.037125, 0.030252, -0.004280, -0.026938, 0.008271, -0.000262, -0.061206, -0.024538, -0.062125, -0.093699, -0.101836, -0.127729, -0.148161, -0.148161, -0.148161, -0.148161
#*# 	0.070397, 0.070397, 0.070397, 0.070397, 0.088720, 0.094679, 0.135675, 0.129767, 0.108980, 0.107715, 0.112282, 0.124083, 0.101536, 0.088174, 0.061401, 0.033569, 0.010905, 0.013511, -0.025056, -0.038392, -0.066045, -0.087792, -0.111773, -0.134427, -0.147143, -0.165222, -0.177589, -0.190145, -0.190145, -0.190145, -0.190145
#*# 	0.112073, 0.112073, 0.112073, 0.112073, 0.112073, 0.121007, 0.133946, 0.125482, 0.141457, 0.133812, 0.112610, 0.131630, 0.109517, 0.087517, 0.050237, 0.032966, 0.025272, 0.000216, -0.003166, -0.017182, -0.038751, -0.067512, -0.085615, -0.122760, -0.141459, -0.157164, -0.186439, -0.186439, -0.186439, -0.186439, -0.186439
#*# 	0.137280, 0.137280, 0.137280, 0.137280, 0.137280, 0.137280, 0.157779, 0.158612, 0.154493, 0.147416, 0.170900, 0.140732, 0.122974, 0.078097, 0.063932, 0.060379, 0.028363, -0.010503, -0.040370, -0.045967, -0.055112, -0.087404, -0.133266, -0.151466, -0.180198, -0.200513, -0.200513, -0.200513, -0.200513, -0.200513, -0.200513
#*# 	0.183913, 0.183913, 0.183913, 0.183913, 0.183913, 0.183913, 0.183913, 0.230029, 0.167267, 0.168692, 0.168285, 0.154933, 0.149190, 0.129003, 0.080411, 0.087932, 0.055052, 0.041430, 0.011604, 0.004499, -0.045800, -0.069611, -0.083624, -0.143027, -0.161177, -0.161177, -0.161177, -0.161177, -0.161177, -0.161177, -0.161177
#*# 	0.219606, 0.219606, 0.219606, 0.219606, 0.219606, 0.219606, 0.219606, 0.219606, 0.219606, 0.209961, 0.213892, 0.189915, 0.161875, 0.142862, 0.093624, 0.078313, 0.032754, 0.019058, -0.000853, -0.035415, -0.074920, -0.114540, -0.142701, -0.142701, -0.142701, -0.142701, -0.142701, -0.142701, -0.142701, -0.142701, -0.142701
#*# 	-0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.016594, -0.027230, 0.185328, 0.153612, 0.131609, 0.090231, 0.093562, 0.042155, -0.001863, -0.013914, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643, -0.055643
#*# 	0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764, 0.048764
#*# x_count = 31
#*# y_count = 31
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = -79.95
#*# max_x = 79.95
#*# min_y = -79.95
#*# max_y = 79.94999999999996
#*#
#*# [probe]
#*# z_offset = 19.921
#*#
#*# [delta_calibrate]
#*# height0 = 19.921
#*# height0_pos = 23538.000,23537.000,23550.000
#*# height1 = 19.921
#*# height1_pos = 26556.000,26489.000,21757.000
#*# height2 = 19.921
#*# height2_pos = 23157.000,28226.000,23179.000
#*# height3 = 19.921
#*# height3_pos = 21843.000,26132.000,26115.000
#*# height4 = 19.921
#*# height4_pos = 23061.000,23090.000,26819.000
#*# height5 = 19.921
#*# height5_pos = 25641.000,21926.000,25647.000
#*# height6 = 19.921
#*# height6_pos = 27486.000,23055.000,23104.000
#*# distance0 = 64.9
#*# distance0_pos1 = 24929.967,25202.943,25211.716
#*# distance0_pos2 = 23381.100,27772.065,27756.267
#*# distance1 = 65.1
#*# distance1_pos1 = 25021.170,25021.042,25304.081
#*# distance1_pos2 = 24710.397,24739.346,29593.171
#*# distance2 = 65.0
#*# distance2_pos1 = 25203.996,24928.368,25211.716
#*# distance2_pos2 = 27754.681,23386.760,27756.267
#*# distance3 = 65.0
#*# distance3_pos1 = 25295.625,25015.988,25028.635
#*# distance3_pos2 = 29575.992,24662.855,24709.003
#*# distance4 = 65.1
#*# distance4_pos1 = 25202.793,25197.830,24937.899
#*# distance4_pos2 = 27732.407,27677.668,23387.052
#*# distance5 = 65.1
#*# distance5_pos1 = 25019.980,25292.131,25028.635
#*# distance5_pos2 = 24692.395,29541.327,24709.003
#*# distance6 = 65.2
#*# distance6_pos1 = 23465.050,27232.860,27538.669
#*# distance6_pos2 = 24830.004,24589.888,29380.912
#*# distance7 = 64.9
#*# distance7_pos1 = 24800.252,24558.831,28968.056
#*# distance7_pos2 = 27791.216,23412.104,27465.620
#*# distance8 = 65.2
#*# distance8_pos1 = 27535.922,23467.499,27216.986
#*# distance8_pos2 = 29363.496,24781.507,24561.446
#*# distance9 = 64.89999999999999
#*# distance9_pos1 = 28951.752,24755.044,24532.745
#*# distance9_pos2 = 27442.597,27717.526,23414.843
#*# distance10 = 65.1
#*# distance10_pos1 = 27195.339,27468.843,23470.560
#*# distance10_pos2 = 24545.695,29335.235,24828.706
#*# distance11 = 65.1
#*# distance11_pos1 = 24517.623,28927.187,24799.518
#*# distance11_pos2 = 23409.397,27483.082,27793.571
